{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 37, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/Idol-Community/front/weverse/src/app/context/AuthContext.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { createContext, useContext, useState, useEffect, ReactNode } from 'react';\r\n\r\ninterface AuthContextType {\r\n  isAuthenticated: boolean;\r\n  token: string | null;\r\n  isLoading: boolean; // Add isLoading to the interface\r\n  login: (token: string) => void;\r\n  logout: () => void;\r\n}\r\n\r\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\r\n\r\nexport const AuthProvider = ({ children }: { children: ReactNode }) => {\r\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n  const [token, setToken] = useState<string | null>(null);\r\n  const [isLoading, setIsLoading] = useState(true); // Add isLoading state\r\n\r\n  useEffect(() => {\r\n    const storedToken = localStorage.getItem('jwtToken');\r\n    if (storedToken) {\r\n      setToken(storedToken);\r\n      setIsAuthenticated(true);\r\n    }\r\n    setIsLoading(false);\r\n  }, []);\r\n\r\n  const login = (newToken: string) => {\r\n    localStorage.setItem('jwtToken', newToken);\r\n    setToken(newToken);\r\n    setIsAuthenticated(true);\r\n  };\r\n\r\n  const logout = () => {\r\n    localStorage.removeItem('jwtToken');\r\n    setToken(null);\r\n    setIsAuthenticated(false);\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ isAuthenticated, token, login, logout, isLoading }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useAuth = () => {\r\n  const context = useContext(AuthContext);\r\n  if (context === undefined) {\r\n    throw new Error('useAuth must be used within an AuthProvider');\r\n  }\r\n  return context;\r\n};\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAYA,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,gBAAa,AAAD,EAA+B;AAExD,MAAM,eAAe,CAAC,EAAE,QAAQ,EAA2B;IAChE,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvD,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IAClD,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,OAAO,sBAAsB;IAExE,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,cAAc,aAAa,OAAO,CAAC;QACzC,IAAI,aAAa;YACf,SAAS;YACT,mBAAmB;QACrB;QACA,aAAa;IACf,GAAG,EAAE;IAEL,MAAM,QAAQ,CAAC;QACb,aAAa,OAAO,CAAC,YAAY;QACjC,SAAS;QACT,mBAAmB;IACrB;IAEA,MAAM,SAAS;QACb,aAAa,UAAU,CAAC;QACxB,SAAS;QACT,mBAAmB;IACrB;IAEA,qBACE,8OAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAiB;YAAO;YAAO;YAAQ;QAAU;kBAC7E;;;;;;AAGP;AAEO,MAAM,UAAU;IACrB,MAAM,UAAU,CAAA,GAAA,qMAAA,CAAA,aAAU,AAAD,EAAE;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 94, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/styles/Header.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"header\": \"Header-module__KppamW__header\",\n  \"logo\": \"Header-module__KppamW__logo\",\n  \"nav\": \"Header-module__KppamW__nav\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 103, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/Idol-Community/front/weverse/src/components/Header.tsx"],"sourcesContent":["'use client';\r\n\r\nimport Link from 'next/link';\r\nimport { usePathname, useRouter } from 'next/navigation';\r\nimport { useAuth } from '../app/context/AuthContext';\r\nimport styles from '@/styles/Header.module.css';\r\nimport { FiLogIn, FiUser, FiGift, FiShoppingCart, FiLogOut } from 'react-icons/fi';\r\n\r\nconst Header = () => {\r\n  const pathname = usePathname();\r\n  const router = useRouter();\r\n  const isArtistSNSPage = pathname.startsWith('/artist/');\r\n  const { isAuthenticated, logout } = useAuth();\r\n\r\n  const handleLogout = () => {\r\n    logout();\r\n    router.push('/login'); // 로그아웃 후 로그인 페이지로 리다이렉트\r\n  };\r\n\r\n  return (\r\n    <header className={`${styles.header} ${isArtistSNSPage ? styles.artistSNSHeader : ''}`}>\r\n      <div className={styles.logo}>\r\n        <Link href=\"/\">Weverse</Link>\r\n      </div>\r\n      <nav className={styles.nav}>\r\n        {isAuthenticated ? (\r\n          <>\r\n            <button onClick={handleLogout} className={styles.navButton}><FiLogOut size={24} /></button>\r\n            <Link href=\"/mypage\" legacyBehavior><a><FiUser size={24} /></a></Link>\r\n          </>\r\n        ) : (\r\n          <Link href=\"/login\" legacyBehavior><a><FiLogIn size={24} /></a></Link>\r\n        )}\r\n        <Link href=\"/jelly\" legacyBehavior><a><FiGift size={24} /></a></Link>\r\n        <Link href=\"/shop\" legacyBehavior><a><FiShoppingCart size={24} /></a></Link>\r\n      </nav>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAQA,MAAM,SAAS;IACb,MAAM,WAAW,CAAA,GAAA,kIAAA,CAAA,cAAW,AAAD;IAC3B,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,kBAAkB,SAAS,UAAU,CAAC;IAC5C,MAAM,EAAE,eAAe,EAAE,MAAM,EAAE,GAAG,CAAA,GAAA,qIAAA,CAAA,UAAO,AAAD;IAE1C,MAAM,eAAe;QACnB;QACA,OAAO,IAAI,CAAC,WAAW,wBAAwB;IACjD;IAEA,qBACE,8OAAC;QAAO,WAAW,GAAG,mIAAA,CAAA,UAAM,CAAC,MAAM,CAAC,CAAC,EAAE,kBAAkB,mIAAA,CAAA,UAAM,CAAC,eAAe,GAAG,IAAI;;0BACpF,8OAAC;gBAAI,WAAW,mIAAA,CAAA,UAAM,CAAC,IAAI;0BACzB,cAAA,8OAAC,4JAAA,CAAA,UAAI;oBAAC,MAAK;8BAAI;;;;;;;;;;;0BAEjB,8OAAC;gBAAI,WAAW,mIAAA,CAAA,UAAM,CAAC,GAAG;;oBACvB,gCACC;;0CACE,8OAAC;gCAAO,SAAS;gCAAc,WAAW,mIAAA,CAAA,UAAM,CAAC,SAAS;0CAAE,cAAA,8OAAC,8IAAA,CAAA,WAAQ;oCAAC,MAAM;;;;;;;;;;;0CAC5E,8OAAC,4JAAA,CAAA,UAAI;gCAAC,MAAK;gCAAU,cAAc;0CAAC,cAAA,8OAAC;8CAAE,cAAA,8OAAC,8IAAA,CAAA,SAAM;wCAAC,MAAM;;;;;;;;;;;;;;;;;qDAGvD,8OAAC,4JAAA,CAAA,UAAI;wBAAC,MAAK;wBAAS,cAAc;kCAAC,cAAA,8OAAC;sCAAE,cAAA,8OAAC,8IAAA,CAAA,UAAO;gCAAC,MAAM;;;;;;;;;;;;;;;;kCAEvD,8OAAC,4JAAA,CAAA,UAAI;wBAAC,MAAK;wBAAS,cAAc;kCAAC,cAAA,8OAAC;sCAAE,cAAA,8OAAC,8IAAA,CAAA,SAAM;gCAAC,MAAM;;;;;;;;;;;;;;;;kCACpD,8OAAC,4JAAA,CAAA,UAAI;wBAAC,MAAK;wBAAQ,cAAc;kCAAC,cAAA,8OAAC;sCAAE,cAAA,8OAAC,8IAAA,CAAA,iBAAc;gCAAC,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAInE;uCAEe","debugId":null}}]
}