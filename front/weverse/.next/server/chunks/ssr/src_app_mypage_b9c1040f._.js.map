{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/app/mypage/mypage.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"actionButtons\": \"mypage-module__jkeTbW__actionButtons\",\n  \"active\": \"mypage-module__jkeTbW__active\",\n  \"cashIcon\": \"mypage-module__jkeTbW__cashIcon\",\n  \"cashInfo\": \"mypage-module__jkeTbW__cashInfo\",\n  \"cashSection\": \"mypage-module__jkeTbW__cashSection\",\n  \"chargeButton\": \"mypage-module__jkeTbW__chargeButton\",\n  \"contentArea\": \"mypage-module__jkeTbW__contentArea\",\n  \"contentHeader\": \"mypage-module__jkeTbW__contentHeader\",\n  \"contentTitle\": \"mypage-module__jkeTbW__contentTitle\",\n  \"email\": \"mypage-module__jkeTbW__email\",\n  \"emptyContent\": \"mypage-module__jkeTbW__emptyContent\",\n  \"inputGroup\": \"mypage-module__jkeTbW__inputGroup\",\n  \"logoutButton\": \"mypage-module__jkeTbW__logoutButton\",\n  \"mainContent\": \"mypage-module__jkeTbW__mainContent\",\n  \"modalContent\": \"mypage-module__jkeTbW__modalContent\",\n  \"modalInfo\": \"mypage-module__jkeTbW__modalInfo\",\n  \"modalOverlay\": \"mypage-module__jkeTbW__modalOverlay\",\n  \"modalTitle\": \"mypage-module__jkeTbW__modalTitle\",\n  \"navItem\": \"mypage-module__jkeTbW__navItem\",\n  \"pageContainer\": \"mypage-module__jkeTbW__pageContainer\",\n  \"profileSection\": \"mypage-module__jkeTbW__profileSection\",\n  \"serviceIcon\": \"mypage-module__jkeTbW__serviceIcon\",\n  \"serviceItem\": \"mypage-module__jkeTbW__serviceItem\",\n  \"serviceSection\": \"mypage-module__jkeTbW__serviceSection\",\n  \"sidebar\": \"mypage-module__jkeTbW__sidebar\",\n  \"sidebarNav\": \"mypage-module__jkeTbW__sidebarNav\",\n  \"submitButton\": \"mypage-module__jkeTbW__submitButton\",\n  \"tab\": \"mypage-module__jkeTbW__tab\",\n  \"tabFilter\": \"mypage-module__jkeTbW__tabFilter\",\n  \"tabs\": \"mypage-module__jkeTbW__tabs\",\n  \"userInfo\": \"mypage-module__jkeTbW__userInfo\",\n  \"username\": \"mypage-module__jkeTbW__username\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 42, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/Fork/Idol-Community/front/weverse/src/app/mypage/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport Link from 'next/link';\r\nimport styles from './mypage.module.css';\r\nimport {\r\n  FiChevronRight,\r\n  FiBookOpen, FiMic, FiCheckSquare, FiPlayCircle\r\n} from 'react-icons/fi';\r\nimport { useAuth } from '../context/AuthContext';\r\n\r\n// 디지털 코드 입력 모달 컴포넌트\r\nconst DigitalCodeModal = ({ isOpen, onClose }: { isOpen: boolean, onClose: () => void }) => {\r\n    if (!isOpen) return null;\r\n\r\n    return (\r\n        <div className={styles.modalOverlay} onClick={onClose}>\r\n            <div className={styles.modalContent} onClick={(e) => e.stopPropagation()}>\r\n                <h2 className={styles.modalTitle}>등록할 코드를 입력하세요.</h2>\r\n                <div className={styles.inputGroup}>\r\n                    <label htmlFor=\"digital-code\">코드 입력</label>\r\n                    <input type=\"text\" id=\"digital-code\" />\r\n                </div>\r\n                <p className={styles.modalInfo}>\r\n                    한번 등록된 코드는 다른 계정으로 이전할 수 없습니다.\r\n                    <br />\r\n                    아래 로그인된 계정 정보를 반드시 확인해 주세요.\r\n                </p>\r\n                <div className={styles.userInfo}>\r\n                    <span>이메일</span>\r\n                    <strong>s20***@naver.com</strong>\r\n                </div>\r\n                <button className={styles.submitButton}>등록하기</button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\n// 각 서비스 링크에 대한 타입 정의\r\ntype ServiceLink = {\r\n  name: string;\r\n  icon: React.ComponentType<any>;\r\n  color: string;\r\n};\r\n\r\nconst serviceLinks: ServiceLink[] = [\r\n  { name: 'Weverse Magazine', icon: FiBookOpen, color: '#4caf50' },\r\n  { name: 'Weverse Concerts', icon: FiMic, color: '#ff9800' },\r\n  { name: 'Weverse Survey', icon: FiCheckSquare, color: '#2196f3' },\r\n  { name: 'BTS Island: In the SEOM', icon: FiPlayCircle, color: '#9c27b0' },\r\n];\r\n\r\n\r\nexport default function MyPage() {\r\n  const [activeTab, setActiveTab] = useState('media');\r\n  const [isCodeModalOpen, setIsCodeModalOpen] = useState(false); // 모달 상태 추가\r\n  const [userData, setUserData] = useState<any>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const { token, isAuthenticated, isLoading: isAuthLoading } = useAuth();\r\n\r\n  useEffect(() => {\r\n    if (isAuthLoading) {\r\n      return; // Wait for AuthContext to finish loading\r\n    }\r\n\r\n    if (!isAuthenticated || !token) {\r\n      setLoading(false);\r\n      setError('로그인이 필요합니다.');\r\n      return;\r\n    }\r\n\r\n    const fetchUserData = async () => {\r\n      try {\r\n                const response = await fetch('http://localhost:80/api/user/me', {\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n          },\r\n        });\r\n\r\n        if (response.ok) {\r\n          const data = await response.json();\r\n          setUserData(data);\r\n        } else {\r\n          const errorText = await response.text();\r\n          setError(`데이터를 불러오는데 실패했습니다: ${errorText}`);\r\n        }\r\n      } catch (err) {\r\n        setError('네트워크 오류가 발생했습니다.');\r\n        console.error(err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchUserData();\r\n  }, [token, isAuthenticated]);\r\n\r\n  if (loading) {\r\n    return <div className={styles.pageContainer}><p>로딩 중...</p></div>;\r\n  }\r\n\r\n  if (error) {\r\n    return <div className={styles.pageContainer}><p>오류: {error}</p></div>;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className={styles.pageContainer}>\r\n        <main className={styles.mainContent}>\r\n          {/* 왼쪽 사이드바 */}\r\n          <aside className={styles.sidebar}>\r\n            <div className={styles.profileSection}>\r\n              <h2 className={styles.username}>{userData.nickname || userData.name || '사용자'}</h2>\r\n              <p className={styles.email}>{userData.email}</p>\r\n              <button className={styles.logoutButton}>로그아웃</button>\r\n            </div>\r\n\r\n            <div className={styles.cashSection}>\r\n              <div className={styles.cashInfo}>\r\n                <span className={styles.cashIcon}>J</span>\r\n                <span>{userData.jellyBalance}</span>\r\n              </div>\r\n              <Link href=\"/jelly\">\r\n                <button className={styles.chargeButton}>충전</button>\r\n              </Link>\r\n            </div>\r\n\r\n            <nav className={styles.sidebarNav}>\r\n              <Link href=\"/mypage/orders\" className={styles.navItem}>\r\n                <span>상품 주문 내역</span>\r\n                <FiChevronRight />\r\n              </Link>\r\n              {/* 쿠폰함 링크를 /mypage/coupons로 수정했습니다. */}\r\n              <Link href=\"/mypage/coupons\" className={styles.navItem}>\r\n                <span>쿠폰함</span>\r\n                <FiChevronRight />\r\n              </Link>\r\n            </nav>\r\n            \r\n            <div className={styles.serviceSection}>\r\n              {serviceLinks.map((service) => (\r\n                <a href=\"#\" key={service.name} className={styles.serviceItem}>\r\n                  <div className={styles.serviceIcon} style={{ backgroundColor: service.color }}>\r\n                    <service.icon size={20} color=\"white\" />\r\n                  </div>\r\n                  <span>{service.name}</span>\r\n                  <FiChevronRight />\r\n                </a>\r\n              ))}\r\n            </div>\r\n          </aside>\r\n\r\n          {/* 오른쪽 메인 컨텐츠 */}\r\n          <section className={styles.contentArea}>\r\n            <div className={styles.contentHeader}>\r\n              <h2 className={styles.contentTitle}>미디어 구매 내역</h2>\r\n              <div className={styles.actionButtons}>\r\n                  <Link href=\"/mypage/notices\">\r\n                      <button>공지사항</button>\r\n                  </Link>\r\n                  <Link href=\"/mypage/settings\">\r\n                    <button>계정 설정</button>\r\n                  </Link>\r\n                  <button onClick={() => setIsCodeModalOpen(true)}>디지털 코드 입력</button>\r\n              </div>\r\n            </div>\r\n            <div className={styles.tabs}>\r\n              <button\r\n                className={`${styles.tab} ${activeTab === 'media' ? styles.active : ''}`}\r\n                onClick={() => setActiveTab('media')}\r\n              >\r\n                무료 상품\r\n              </button>\r\n              <button\r\n                className={`${styles.tab} ${activeTab === 'order' ? styles.active : ''}`}\r\n                onClick={() => setActiveTab('order')}\r\n              >\r\n                디지털 코드\r\n              </button>\r\n              <div className={styles.tabFilter}>\r\n                  <label><input type=\"radio\" name=\"status\" defaultChecked /> 사용 중</label>\r\n                  <label><input type=\"radio\" name=\"status\" /> 전체</label>\r\n              </div>\r\n            </div>\r\n\r\n            <div className={styles.tabContent}>\r\n              {activeTab === 'media' && (\r\n                <div className={styles.emptyContent}>\r\n                  <p>해당 내역이 없습니다.</p>\r\n                </div>\r\n              )}\r\n              {activeTab === 'order' && (\r\n                <div className={styles.emptyContent}>\r\n                  <p>디지털 코드 내역이 없습니다.</p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </section>\r\n        </main>\r\n      </div>\r\n      <DigitalCodeModal isOpen={isCodeModalOpen} onClose={() => setIsCodeModalOpen(false)} />\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}